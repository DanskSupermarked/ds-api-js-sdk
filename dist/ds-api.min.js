!function(t,e){if("function"==typeof define&&define.amd)define(["exports"],e);else if("undefined"!=typeof exports)e(exports);else{var r={exports:{}};e(r.exports),t.dsApi=r.exports}}(this,function(t){"use strict";var e="1.0.4";t.VERSION=e;var r,n,a="https://api.dansksupermarked.dk",i=100,u="v1",s=function(t,e){if(0===Object.keys(e).length)return t;if(-1!==t.indexOf("?")){var r=t.split("?");t=r[0],r[1].split("&").forEach(function(t){var r=t.split("="),n=r[0];!e[n]&&r.length>1&&(e[n]=r[1])})}var n=[];return Object.keys(e).forEach(function(t){var r=e[t];r&&n.push(t+"="+r)}),n.length>0?t+"?"+n.join("&"):t},o=function(t){if(t){var e={};return t.split(",").forEach(function(t){var r=t.split(";"),a=r[0].replace(/<(.*)>/,"$1").trim(),i=r[1].replace(/rel="(.*)"/,"$1").trim();e[i]=function(){return n(a)}}),e}},c=function(t){r=t};t.auth=c;var f=function(t){u=t};t.setApiVersion=f;var n=function(t){var e=arguments.length<=1||void 0===arguments[1]?"GET":arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=arguments.length<=3||void 0===arguments[3]?null:arguments[3];if(!r)return Promise.reject(new Error("authentication key was not set. Use the auth method"));if(!t)return Promise.reject(new TypeError("needs a `resource` string as first parameter."));var c;t.startsWith("http")?c=t:(t.startsWith("/")||(t="/"+t),t.startsWith("/"+u)||(t="/"+u+t),c=a+t);var f=s(c,n);return fetch(f,{method:e,headers:{Authorization:"Basic "+btoa(r+":js-sdk"),"Content-Type":"application/json; charset=utf-8"},data:i}).then(function(t){var r=function(e){var r={};return["expires","x-ratelimit-limit","x-ratelimit-remaining","x-ratelimit-reset","x-version"].forEach(function(e){return r[e]=t.headers.get(e)}),{data:e,status:t.status,headers:r,count:parseInt(t.headers.get("x-total-count"),10)||0,pagination:o(t.headers.get("link")),url:f}};return"HEAD"===e?r():t.json().then(r)})};t.request=n;var h=function(t,e){return n(t,"GET",e)};t.get=h;var l=function(t,e){return n(t,"POST",{},e)};t.post=l;var p=function(t,e){return n(t,"PUT",{},e)};t.put=p;var v=function(t){return n(t,"DELETE")};t.del=v;var g=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n(t,"HEAD",e).then(function(t){return Promise.resolve(t.count||0)})};t.count=g;var m=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return g(t,e).then(function(e){if(0===e)return Promise.resolve([]);for(var r=Math.ceil(e/i),a=[],u=[],s=function(e){var r={};r.per_page=i,r.page=e,a.push(n(t,"GET",r).then(function(t){return 200!==t.status?Promise.reject(t):void(u[e-1]=t.data)}))},o=1;r>=o;o++)s(o);return Promise.all(a).then(function(){return u.reduce(function(t,e){return t.concat(e)})})["catch"](function(t){return t})})};t.getAll=m});